<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Mr. Lucky - Juegos de Suerte</title>
    <meta name="description" content="Â¡Pon a prueba tu suerte! Juegos interactivos de azar y fortuna">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&family=Righteous&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Background Canvas for Particles -->
    <canvas id="backgroundCanvas"></canvas>

    <!-- Floating Luck Symbols -->
    <div class="luck-symbols">
        <div class="floating-symbol" style="left: 10%; animation-delay: 0s;">ğŸ€</div>
        <div class="floating-symbol" style="left: 25%; animation-delay: 1s;">ğŸ°</div>
        <div class="floating-symbol" style="left: 40%; animation-delay: 2s;">ğŸ’°</div>
        <div class="floating-symbol" style="left: 60%; animation-delay: 1.5s;">ğŸ²</div>
        <div class="floating-symbol" style="left: 75%; animation-delay: 0.5s;">â­</div>
        <div class="floating-symbol" style="left: 90%; animation-delay: 2.5s;">ğŸ”®</div>
    </div>

    <!-- Music Control Button -->
    <button id="musicBtn" class="music-btn" aria-label="Toggle Music">
        <span class="music-icon">ğŸµ</span>
    </button>

    <!-- Audio Elements -->
    <audio id="bgMusic" loop></audio>
    <audio id="successSound"></audio>
    <audio id="failSound"></audio>
    <audio id="explosionSound"></audio>

    <!-- Jackpot Celebration Overlay -->
    <div id="jackpotOverlay" class="jackpot-overlay">
        <div class="jackpot-content">
            <div class="jackpot-fire-container">
                <div class="fire-particle"></div>
                <div class="fire-particle"></div>
                <div class="fire-particle"></div>
                <div class="fire-particle"></div>
                <div class="fire-particle"></div>
            </div>

            <div class="jackpot-badge">
                <div class="badge-rays"></div>
                <div class="badge-circle">
                    <span class="jackpot-icon">ğŸ°</span>
                </div>
            </div>

            <h1 class="jackpot-title">Â¡LUCKY MOMENTUM!</h1>
            <h2 class="jackpot-subtitle">ğŸ”¥ SUERTE MÃXIMA ALCANZADA ğŸ”¥</h2>

            <div class="jackpot-message">
                <p class="jackpot-text">Â¡FELICIDADES!</p>
                <p class="jackpot-subtext">Has demostrado tener una fortuna increÃ­ble</p>
                <p class="jackpot-cta">ğŸ² Â¡Es hora de ir al BINGO! ğŸ°</p>
            </div>

            <div class="jackpot-symbols">
                <span class="jackpot-symbol">ğŸ’°</span>
                <span class="jackpot-symbol">ğŸ€</span>
                <span class="jackpot-symbol">â­</span>
                <span class="jackpot-symbol">ğŸ’</span>
                <span class="jackpot-symbol">ğŸ”®</span>
            </div>

            <button class="jackpot-close-btn" id="jackpotCloseBtn">Continuar Jugando</button>
        </div>
        <canvas class="jackpot-confetti" id="jackpotConfetti"></canvas>
    </div>

    <!-- Welcome Screen -->
    <div id="welcomeScreen" class="screen active">
        <div class="container welcome-container">
            <div class="welcome-content">
                <div class="luck-badge">
                    <div class="badge-shine"></div>
                    <span class="badge-icon">ğŸ€</span>
                </div>

                <h1 class="welcome-title">
                    <span class="title-main">Mr. Lucky</span>
                    <span class="title-sub">Juegos de Suerte</span>
                </h1>

                <div class="luck-quote">
                    "La fortuna favorece a los de Social 11"
                </div>

                <button class="start-btn" id="startBtn">
                    <span class="btn-shine"></span>
                    <span class="btn-icon">ğŸ²</span>
                    <span class="btn-text">Â¡PULSA PARA COMENZAR!</span>
                    <span class="btn-icon">ğŸ²</span>
                </button>

                <div class="luck-symbols-row">
                    <span class="symbol-bounce">ğŸ’°</span>
                    <span class="symbol-bounce" style="animation-delay: 0.2s;">ğŸ°</span>
                    <span class="symbol-bounce" style="animation-delay: 0.4s;">â­</span>
                    <span class="symbol-bounce" style="animation-delay: 0.6s;">ğŸ”®</span>
                    <span class="symbol-bounce" style="animation-delay: 0.8s;">ğŸ’</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Menu Screen -->
    <div id="mainMenu" class="screen">
        <div class="container">
            <h1 class="main-title">
                <span class="title-icon">ğŸ€</span>
                <span class="title-text">Mr. Lucky</span>
                <span class="title-icon">ğŸ€</span>
            </h1>
            <p class="subtitle">âœ¨ Elige tu juego de suerte âœ¨</p>

            <div class="menu-grid">
            <button class="menu-btn luck-themed" data-mode="race">
                <div class="btn-glow"></div>
                <span class="btn-icon">ğŸƒ</span>
                <span class="btn-text">Carrera de la Suerte</span>
                <span class="btn-desc">Â¡Toca rÃ¡pido para ganar! âš¡</span>
                <div class="btn-coins">
                    <span>â­</span>
                    <span>â­</span>
                    <span>â­</span>
                </div>
            </button>

            <button class="menu-btn luck-themed" data-mode="competitive">
                <div class="btn-glow"></div>
                <span class="btn-icon">âš¡</span>
                <span class="btn-text">Duelo de Fortuna</span>
                <span class="btn-desc">1vs1 - Â¡Racha 10 = LUCKY MOMENTUM! ğŸ²</span>
                <div class="btn-coins">
                    <span>ğŸ²</span>
                    <span>ğŸ²</span>
                    <span>ğŸ²</span>
                </div>
            </button>

            <button class="menu-btn luck-themed" data-mode="ritual">
                <div class="btn-glow"></div>
                <span class="btn-icon">ğŸ”®</span>
                <span class="btn-text">Ritual de Suerte</span>
                <span class="btn-desc">Carga tu suerte al mÃ¡ximo âœ¨</span>
                <div class="btn-coins">
                    <span>âœ¨</span>
                    <span>âœ¨</span>
                    <span>âœ¨</span>
                </div>
            </button>

            <button class="menu-btn luck-themed" data-mode="fortuneWheel">
                <div class="btn-glow"></div>
                <span class="btn-icon">ğŸ¡</span>
                <span class="btn-text">Rueda de la Fortuna</span>
                <span class="btn-desc">Gira y descubre tu suerte ğŸ°</span>
                <div class="btn-coins">
                    <span>ğŸ°</span>
                    <span>ğŸ°</span>
                    <span>ğŸ°</span>
                </div>
            </button>
            </div>
        </div>
    </div>
    </div>

    <!-- Difficulty Selection Screen -->
    <div id="difficultyScreen" class="screen">
        <div class="container">
            <h2 class="screen-title">ğŸ€ Nivel de Suerte ğŸ€</h2>
            <p class="subtitle">Â¿CuÃ¡nta fortuna tienes hoy?</p>

            <div class="difficulty-grid">
                <button class="difficulty-btn luck-themed" data-difficulty="easy">
                    <span class="diff-emoji">ğŸ€</span>
                    <span class="diff-name">Principiante</span>
                    <span class="diff-luck">Suerte FÃ¡cil</span>
                </button>
                <button class="difficulty-btn luck-themed" data-difficulty="normal">
                    <span class="diff-emoji">ğŸ²</span>
                    <span class="diff-name">Afortunado</span>
                    <span class="diff-luck">Suerte Normal</span>
                </button>
                <button class="difficulty-btn luck-themed" data-difficulty="hard">
                    <span class="diff-emoji">ğŸ’</span>
                    <span class="diff-name">Experto</span>
                    <span class="diff-luck">Suerte DifÃ­cil</span>
                </button>
                <button class="difficulty-btn luck-themed" data-difficulty="insane">
                    <span class="diff-emoji">ğŸ”®</span>
                    <span class="diff-name">LEGENDARIO</span>
                    <span class="diff-luck">Â¡Suerte Extrema!</span>
                </button>
            </div>

            <button class="back-btn">â† Volver</button>
        </div>
    </div>

    <!-- Individual Mode Screen -->
    <div id="individualScreen" class="screen game-screen">
        <div class="container">
            <h2 class="screen-title">ğŸ¯ Suerte Individual ğŸ€</h2>

            <div class="streak-goal-banner" id="streakGoalBanner">
                <span class="goal-text">Meta: Racha 5 ğŸ¯</span>
            </div>

            <div class="stats-bar luck-stats">
                <div class="stat">
                    <span class="stat-icon">ğŸ’°</span>
                    <span class="stat-label">Fortuna</span>
                    <span class="stat-value" id="indPoints">0</span>
                </div>
                <div class="stat">
                    <span class="stat-icon">ğŸ”¥</span>
                    <span class="stat-label">Racha</span>
                    <span class="stat-value streak-highlight" id="indStreak">0</span>
                </div>
            </div>

            <div class="game-area">
                <div class="luck-meter-label">Medidor de Suerte</div>
                <div class="precision-bar-container luck-bar">
                    <div class="target-zone" id="indTarget">
                        <span class="target-icon">ğŸ€</span>
                    </div>
                    <div class="moving-bar" id="indBar">
                        <span class="bar-icon">ğŸ’</span>
                    </div>
                </div>
            </div>

            <button class="action-btn luck-action" id="indActionBtn">
                <span class="btn-pulse"></span>
                <span class="btn-icon-left">ğŸ²</span>
                Â¡PRUEBA TU SUERTE!
                <span class="btn-icon-right">ğŸ²</span>
            </button>

            <div class="message" id="indMessage"></div>

            <button class="back-btn">â† Volver al MenÃº</button>
        </div>
        <canvas class="confetti-canvas" id="indConfetti"></canvas>
    </div>

    <!-- Race Mode Screen -->
    <div id="raceScreen" class="screen game-screen">
        <div class="container">
            <h2 class="screen-title">ğŸƒ Carrera de la Suerte â­</h2>
            <p class="game-instruction" id="raceInstruction">Â¡Toca rÃ¡pido tu carril para avanzar!</p>

            <div class="countdown-overlay" id="countdownOverlay">
                <div class="countdown-number" id="countdownNumber">3</div>
            </div>

            <div class="game-area">
                <div class="race-tracks">
                    <div class="race-track luck-track" id="track1">
                        <div class="track-label">Jugador 1 ğŸ€</div>
                        <div class="track-lane">
                            <div class="finish-line">ğŸ META ğŸ</div>
                            <div class="runner" id="runner1">ğŸƒ</div>
                            <div class="tap-indicator">Â¡TOCA AQUÃ!</div>
                        </div>
                    </div>
                    <div class="race-track luck-track" id="track2">
                        <div class="track-label">Jugador 2 â­</div>
                        <div class="track-lane">
                            <div class="finish-line">ğŸ META ğŸ</div>
                            <div class="runner" id="runner2">ğŸƒ</div>
                            <div class="tap-indicator">Â¡TOCA AQUÃ!</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="message winner-message" id="raceMessage"></div>

            <button class="back-btn">â† Volver al MenÃº</button>
        </div>
        <canvas class="confetti-canvas" id="raceConfetti"></canvas>
    </div>

    <!-- Competitive Mode Screen -->
    <div id="competitiveScreen" class="screen game-screen">
        <div class="container">
            <h2 class="screen-title">âš¡ Duelo de Fortuna ğŸ²</h2>

            <div class="streak-goal-banner" id="compStreakGoalBanner">
                <span class="goal-text">Meta: Racha 5 ğŸ¯</span>
            </div>

            <div class="stats-bar luck-stats competitive-stats">
                <div class="stat player1">
                    <span class="stat-icon">ğŸ’›</span>
                    <span class="stat-label">Jugador 1</span>
                    <div class="stat-group">
                        <span class="stat-value" id="comp1Score">0</span>
                        <span class="stat-streak">Racha: <span id="comp1Streak">0</span></span>
                    </div>
                </div>
                <div class="stat player2">
                    <span class="stat-icon">ğŸ’œ</span>
                    <span class="stat-label">Jugador 2</span>
                    <div class="stat-group">
                        <span class="stat-value" id="comp2Score">0</span>
                        <span class="stat-streak">Racha: <span id="comp2Streak">0</span></span>
                    </div>
                </div>
            </div>

            <div class="game-area">
                <div class="competitive-bars">
                    <div class="comp-bar-wrapper">
                        <div class="comp-label">Jugador 1 ğŸ€</div>
                        <div class="precision-bar-container small luck-bar">
                            <div class="target-zone" id="comp1Target">
                                <span class="target-icon-small">ğŸ€</span>
                            </div>
                            <div class="moving-bar" id="comp1Bar"></div>
                        </div>
                    </div>
                    <div class="comp-bar-wrapper">
                        <div class="comp-label">Jugador 2 â­</div>
                        <div class="precision-bar-container small luck-bar">
                            <div class="target-zone" id="comp2Target">
                                <span class="target-icon-small">â­</span>
                            </div>
                            <div class="moving-bar" id="comp2Bar"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="competitive-buttons">
                <button class="action-btn player1 luck-action" id="comp1Btn">
                    <span class="btn-icon-left">ğŸ²</span>
                    Jugador 1
                </button>
                <button class="action-btn player2 luck-action" id="comp2Btn">
                    <span class="btn-icon-right">ğŸ²</span>
                    Jugador 2
                </button>
            </div>

            <div class="message" id="compMessage"></div>

            <button class="back-btn">â† Volver al MenÃº</button>
        </div>
        <canvas class="confetti-canvas" id="compConfetti"></canvas>
    </div>

    <!-- Ritual Mode Screen -->
    <div id="ritualScreen" class="screen game-screen">
        <div class="container">
            <h2 class="screen-title">ğŸ”® Ritual de Suerte âœ¨</h2>
            <p class="subtitle ritual-instruction" id="ritualInstruction">Coloca los objetos en el pentagrama para completar el ritual</p>

            <div class="ritual-container">
                <!-- Pentagrama -->
                <div class="ritual-pentagram-container">
                    <svg class="ritual-pentagram" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
                        <!-- Pentagrama lines -->
                        <path class="pentagram-line" d="M 150 50 L 180 120 L 260 120 L 200 170 L 230 250 L 150 200 L 70 250 L 100 170 L 40 120 L 120 120 Z" 
                              fill="none" stroke="rgba(255, 215, 0, 0.3)" stroke-width="2"/>
                        <circle class="pentagram-circle" cx="150" cy="150" r="80" 
                                fill="none" stroke="rgba(255, 215, 0, 0.2)" stroke-width="1"/>
                    </svg>
                    
                    <!-- Casillas visibles para los objetos -->
                    <div class="ritual-slots">
                        <div class="ritual-slot" data-slot="0" data-emoji="ğŸ”®">
                            <div class="slot-frame"></div>
                        </div>
                        <div class="ritual-slot" data-slot="1" data-emoji="âœ¨">
                            <div class="slot-frame"></div>
                        </div>
                        <div class="ritual-slot" data-slot="2" data-emoji="ğŸ€">
                            <div class="slot-frame"></div>
                        </div>
                        <div class="ritual-slot" data-slot="3" data-emoji="ğŸ”¥">
                            <div class="slot-frame"></div>
                        </div>
                        <div class="ritual-slot" data-slot="4" data-emoji="ğŸ§¿">
                            <div class="slot-frame"></div>
                        </div>
                        <div class="ritual-slot" data-slot="5" data-emoji="ğŸŒ™">
                            <div class="slot-frame"></div>
                        </div>
                    </div>
                </div>

                <!-- Objetos de suerte (drag items) -->
                <div class="ritual-items-container" id="ritualItemsContainer">
                    <div class="ritual-item" draggable="true" data-emoji="ğŸ”®" data-item-id="0">
                        <span class="item-emoji">ğŸ”®</span>
                    </div>
                    <div class="ritual-item" draggable="true" data-emoji="âœ¨" data-item-id="1">
                        <span class="item-emoji">âœ¨</span>
                    </div>
                    <div class="ritual-item" draggable="true" data-emoji="ğŸ€" data-item-id="2">
                        <span class="item-emoji">ğŸ€</span>
                    </div>
                    <div class="ritual-item" draggable="true" data-emoji="ğŸ”¥" data-item-id="3">
                        <span class="item-emoji">ğŸ”¥</span>
                    </div>
                    <div class="ritual-item" draggable="true" data-emoji="ğŸ§¿" data-item-id="4">
                        <span class="item-emoji">ğŸ§¿</span>
                    </div>
                    <div class="ritual-item" draggable="true" data-emoji="ğŸŒ™" data-item-id="5">
                        <span class="item-emoji">ğŸŒ™</span>
                    </div>
                </div>

                <!-- Mensaje de estado -->
                <div class="ritual-status-message" id="ritualStatusMessage"></div>

                <!-- Barra de progreso de carga de suerte -->
                <div class="ritual-progress-container" id="ritualProgressContainer" style="display: none;">
                    <div class="ritual-progress-bar-wrapper">
                        <div class="ritual-progress-bar" id="ritualProgressBar">
                            <div class="ritual-progress-fill" id="ritualProgressFill"></div>
                            <div class="ritual-progress-text" id="ritualProgressText">0%</div>
                        </div>
                    </div>
                    <div class="ritual-progress-message" id="ritualProgressMessage">Conectando con el universo...</div>
                </div>

                <!-- Resultado del ritual -->
                <div class="ritual-result-container" id="ritualResultContainer" style="display: none;">
                    <div class="ritual-result-content">
                        <h3 class="ritual-result-name" id="ritualResultName"></h3>
                        <p class="ritual-result-message" id="ritualResultMessage"></p>
                        <div class="ritual-stats">
                            <div class="ritual-luck-level" id="ritualLuckLevel"></div>
                            <div class="ritual-aura-color" id="ritualAuraColor"></div>
                        </div>
                        <button class="action-btn luck-themed" id="ritualBlessedNumbersBtn">
                            <span class="btn-icon-left">ğŸ²</span>
                            NÃºmeros Bendecidos
                            <span class="btn-icon-right">ğŸ²</span>
                        </button>
                        <div class="ritual-blessed-numbers" id="ritualBlessedNumbers" style="display: none;"></div>
                        <button class="action-btn luck-action" id="ritualRestartBtn" style="margin-top: var(--spacing-md);">
                            <span class="btn-icon-left">ğŸ”„</span>
                            Realizar Otro Ritual
                            <span class="btn-icon-right">âœ¨</span>
                        </button>
                    </div>
                </div>
            </div>

            <button class="back-btn" id="ritualBackBtn">â† Volver al MenÃº</button>
        </div>
        <canvas class="confetti-canvas" id="ritualConfetti"></canvas>
    </div>

    <!-- Fortune Wheel Mode Screen -->
    <div id="fortuneWheelScreen" class="screen game-screen">
        <div class="container">
            <h2 class="screen-title">ğŸ¡ Rueda de la Fortuna ğŸ°</h2>
            <p class="subtitle">Gira la rueda y descubre tu nivel de suerte</p>

            <div class="fortune-wheel-container">
                <div class="fortune-wheel-wrapper">
                    <div class="fortune-wheel-pointer" id="fortuneWheelPointer">â¬‡ï¸</div>
                    <div class="fortune-wheel" id="fortuneWheel">
                        <div class="wheel-segment" style="--segment-index: 0; --total-segments: 6;">
                            <span class="segment-emoji">ğŸ°</span>
                            <span class="segment-text">MÃ¡xima</span>
                        </div>
                        <div class="wheel-segment" style="--segment-index: 1; --total-segments: 6;">
                            <span class="segment-emoji">ğŸ’°</span>
                            <span class="segment-text">Gran</span>
                        </div>
                        <div class="wheel-segment" style="--segment-index: 2; --total-segments: 6;">
                            <span class="segment-emoji">ğŸ€</span>
                            <span class="segment-text">Buena</span>
                        </div>
                        <div class="wheel-segment" style="--segment-index: 3; --total-segments: 6;">
                            <span class="segment-emoji">ğŸ²</span>
                            <span class="segment-text">Normal</span>
                        </div>
                        <div class="wheel-segment" style="--segment-index: 4; --total-segments: 6;">
                            <span class="segment-emoji">â­</span>
                            <span class="segment-text">BÃ¡sica</span>
                        </div>
                        <div class="wheel-segment" style="--segment-index: 5; --total-segments: 6;">
                            <span class="segment-emoji">ğŸ”®</span>
                            <span class="segment-text">MÃ­nima</span>
                        </div>
                    </div>
                </div>

                <button class="action-btn luck-action" id="fortuneWheelSpinBtn">
                    <span class="btn-pulse"></span>
                    <span class="btn-icon-left">ğŸ¡</span>
                    GIRAR RUEDA
                    <span class="btn-icon-right">ğŸ°</span>
                </button>

                <div class="fortune-wheel-result">
                    <div class="message" id="fortuneWheelResult"></div>
                    <div class="message-details" id="fortuneWheelResultDetails"></div>
                </div>
            </div>

            <button class="back-btn">â† Volver al MenÃº</button>
        </div>
        <canvas class="confetti-canvas" id="fortuneWheelConfetti"></canvas>
    </div>

    <!-- Main JavaScript Module -->
    <script type="module" src="js/main.js"></script>
</body>

</html>